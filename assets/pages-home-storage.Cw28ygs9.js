import{a as l,A as e,b as a}from"./index.DRE4Ui8P.js";import{d as t,r as s,W as r,Q as o,h as c,j as n,k as d,l as i,t as u,v as x,q as p,n as f,F as m,J as _,S as v,T as g,V as h,L as y,A as b,_ as w,U as F}from"./index-Cq9VOZ8T.js";import{_ as j,a as L}from"./diamond.D93waEJc.js";import{M as k}from"./index.CKr23U1R.js";import{u as S}from"./account.G0aekY3X.js";import{t as T}from"./throttle.P4z1NBKD.js";const U=t({__name:"storage",setup(t){const U=s({level:0,current:{properties:{max_gold_capacity:0},cost:{golds:0,diamonds:0}},next:{properties:{max_gold_capacity:0},cost:{golds:0,diamonds:0}}}),z=s(),A=s(!1),B=r();function M(){A.value=!0,T((()=>{k.upgradeStorage().then((l=>{U.value=l||{},B.success("Upgrade successfully")})).finally((()=>{A.value=!1}))}))}return function(){const{getUserAssets:l}=S();l([e.GOLD]).then((l=>{z.value=l}))}(),v(),k.minerStorageInfo().then((l=>{U.value=l||{}})).finally(g),(t,s)=>{const r=h,v=y,g=b,k=w,S=F,T=o("layout-default-uni");return c(),n(T,null,{default:d((()=>[i(g,null,{default:d((()=>[i(g,{class:"flex-center pt-50rpx"},{default:d((()=>[i(r,{src:"/static/home/cart.png",mode:"scaleToFill",class:"mr-36rpx h-46rpx w-46rpx"}),i(v,{class:"text-title text-white"},{default:d((()=>[u(" Mining Storage ")])),_:1})])),_:1}),i(g,{class:"m-y-28rpx flex-center"},{default:d((()=>[i(v,{class:"text-title color-value"},{default:d((()=>{var l;return[u(" Level "+x((null==(l=p(U))?void 0:l.level)||0),1)]})),_:1})])),_:1}),i(g,{class:"flex-center"},{default:d((()=>[i(v,{class:"mr-16rpx text-md color-desc"},{default:d((()=>[u(" Balance ")])),_:1}),i(k,{name:"/static/icon/coin_bit.png",size:"30rpx"}),i(v,{class:"ml-16rpx text-md color-desc"},{default:d((()=>[u(x(("assetBalanceFormat"in t?t.assetBalanceFormat:p(l))(p(z),p(e).GOLD)),1)])),_:1})])),_:1}),i(g,{class:"box-border flex-center p-32rpx"},{default:d((()=>[i(S,{"custom-class":"w-full !h-90rpx",loading:p(A),onClick:M},{default:d((()=>[i(g,{class:"flex-center"},{default:d((()=>{var l,e,s,o,n,g;return[(null==(s=null==(e=null==(l=p(U))?void 0:l.next)?void 0:e.cost)?void 0:s.golds)>0?(c(),f(m,{key:0},[i(r,{src:j,mode:"scaleToFill",class:"h-30rpx w-30rpx"}),i(v,{class:"ml-16rpx pr-2 text-md color-white"},{default:d((()=>{var l,e,s;return[u(x(("balanceFormat"in t?t.balanceFormat:p(a))(null==(s=null==(e=null==(l=p(U))?void 0:l.next)?void 0:e.cost)?void 0:s.golds)),1)]})),_:1})],64)):_("",!0),(null==(g=null==(n=null==(o=p(U))?void 0:o.next)?void 0:n.cost)?void 0:g.diamonds)>0?(c(),f(m,{key:1},[i(r,{src:L,mode:"scaleToFill",class:"h-30rpx w-30rpx"}),i(v,{class:"ml-16rpx pr-2 text-md color-white"},{default:d((()=>{var l,e,s;return[u(x(("balanceFormat"in t?t.balanceFormat:p(a))(null==(s=null==(e=null==(l=p(U))?void 0:l.next)?void 0:e.cost)?void 0:s.diamonds)),1)]})),_:1})],64)):_("",!0),i(v,{class:"color-white"},{default:d((()=>[u(" Upgrade ")])),_:1})]})),_:1})])),_:1},8,["loading"])])),_:1}),i(g,{class:"flex-col p-32rpx"},{default:d((()=>[i(v,{class:"text-md color-white"},{default:d((()=>[u(" Current Properties ")])),_:1}),i(g,{class:"mt-26rpx box-border flex-col rounded-3 bg-cell p-24rpx color-white"},{default:d((()=>[i(g,{class:"m-y-14rpx flex-y-center"},{default:d((()=>[i(g,{class:"mr-24rpx h-76rpx w-76rpx flex-center rounded-3 bg-cell-icon"},{default:d((()=>[i(k,{name:"/static/icon/storage_coin.png",size:"38rpx"})])),_:1}),i(g,{class:"flex-1 flex-col"},{default:d((()=>[i(g,{class:"flex-x-between"},{default:d((()=>[i(g,{class:"flex-y-center"},{default:d((()=>[i(v,{class:"mr-16rpx text-md color-white"},{default:d((()=>[u(" Max coin capacity ")])),_:1})])),_:1}),i(g,{class:"flex-y-center"},{default:d((()=>[i(k,{name:"/static/icon/coin_bit.png",size:"28rpx"}),i(v,{class:"ml-16rpx text-md color-white"},{default:d((()=>{var l,e,a;return[u(x((null==(a=null==(e=null==(l=p(U))?void 0:l.current)?void 0:e.properties)?void 0:a.max_gold_capacity)||0),1)]})),_:1})])),_:1})])),_:1}),i(g,{class:"mt-16rpx flex-x-between"},{default:d((()=>[i(v,{class:"text-sm color-desc"},{default:d((()=>[u(" Next Level ")])),_:1}),i(v,{class:"text-sm color-desc"},{default:d((()=>{var l,e,a;return[u(x((null==(a=null==(e=null==(l=p(U))?void 0:l.next)?void 0:e.properties)?void 0:a.max_gold_capacity)||0),1)]})),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}});export{U as default};
