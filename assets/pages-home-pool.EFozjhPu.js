import{a as e,A as l,b as t}from"./index.DRE4Ui8P.js";import{d as a,r as s,W as r,Q as o,h as c,j as n,k as d,l as i,t as u,v as x,q as p,n as f,F as m,J as _,S as v,T as b,V as h,L as g,A as w,_ as F,U as y}from"./index-Cq9VOZ8T.js";import{_ as k,a as j}from"./diamond.D93waEJc.js";import{M as C}from"./index.CKr23U1R.js";import{u as L}from"./account.G0aekY3X.js";import{t as P}from"./throttle.P4z1NBKD.js";const z=a({__name:"pool",setup(a){const z=s({level:0,current:{properties:{golds_per_block:0,chests_per_block:0},cost:{golds:0,diamonds:0}},next:{properties:{golds_per_block:0,chests_per_block:0},cost:{golds:0,diamonds:0}}}),T=s(),U=s(!1),A=r();function B(){U.value=!0,P((()=>{C.upgradePool().then((e=>{z.value=e||{},A.success("Upgrade successfully")})).finally((()=>{U.value=!1}))}))}return function(){const{getUserAssets:e}=L();e([l.GOLD]).then((e=>{T.value=e}))}(),v(),C.miningPoolInfo().then((e=>{z.value=e||{}})).finally(b),(a,s)=>{const r=h,v=g,b=w,C=F,L=y,P=o("layout-default-uni");return c(),n(P,null,{default:d((()=>[i(b,null,{default:d((()=>[i(b,{class:"flex-center pt-50rpx"},{default:d((()=>[i(r,{src:"/static/home/mine.png",mode:"scaleToFill",class:"mr-36rpx h-46rpx w-70rpx"}),i(v,{class:"text-title text-white"},{default:d((()=>[u(" Mining Pool ")])),_:1})])),_:1}),i(b,{class:"m-y-28rpx flex-center"},{default:d((()=>[i(v,{class:"text-title color-value"},{default:d((()=>{var e;return[u(" Level "+x((null==(e=p(z))?void 0:e.level)||0),1)]})),_:1})])),_:1}),i(b,{class:"flex-center"},{default:d((()=>[i(v,{class:"mr-16rpx text-md color-desc"},{default:d((()=>[u(" Balance ")])),_:1}),i(C,{name:"/static/icon/coin_bit.png",size:"30rpx"}),i(v,{class:"ml-16rpx text-md color-desc"},{default:d((()=>[u(x(("assetBalanceFormat"in a?a.assetBalanceFormat:p(e))(p(T),p(l).GOLD)),1)])),_:1})])),_:1}),i(b,{class:"box-border flex-center p-32rpx"},{default:d((()=>[i(L,{"custom-class":"w-full !h-90rpx",loading:p(U),onClick:B},{default:d((()=>[i(b,{class:"flex-center"},{default:d((()=>{var e,l,s,o,n,b;return[(null==(s=null==(l=null==(e=p(z))?void 0:e.next)?void 0:l.cost)?void 0:s.golds)>0?(c(),f(m,{key:0},[i(r,{src:k,mode:"scaleToFill",class:"h-30rpx w-30rpx"}),i(v,{class:"ml-16rpx pr-2 text-md color-white"},{default:d((()=>{var e,l,s;return[u(x(("balanceFormat"in a?a.balanceFormat:p(t))(null==(s=null==(l=null==(e=p(z))?void 0:e.next)?void 0:l.cost)?void 0:s.golds)),1)]})),_:1})],64)):_("",!0),(null==(b=null==(n=null==(o=p(z))?void 0:o.next)?void 0:n.cost)?void 0:b.diamonds)>0?(c(),f(m,{key:1},[i(r,{src:j,mode:"scaleToFill",class:"h-30rpx w-30rpx"}),i(v,{class:"ml-16rpx pr-2 text-md color-white"},{default:d((()=>{var e,l,s;return[u(x(("balanceFormat"in a?a.balanceFormat:p(t))(null==(s=null==(l=null==(e=p(z))?void 0:e.next)?void 0:l.cost)?void 0:s.diamonds)),1)]})),_:1})],64)):_("",!0),i(v,{class:"color-white"},{default:d((()=>[u(" Upgrade ")])),_:1})]})),_:1})])),_:1},8,["loading"])])),_:1}),i(b,{class:"flex-col p-32rpx"},{default:d((()=>[i(v,{class:"text-md color-white"},{default:d((()=>[u(" Current Properties ")])),_:1}),i(b,{class:"mt-26rpx box-border flex-col rounded-3 bg-cell p-24rpx color-white"},{default:d((()=>[i(b,{class:"m-y-14rpx flex-y-center"},{default:d((()=>[i(b,{class:"mr-24rpx h-76rpx w-76rpx flex-center rounded-3 bg-cell-icon"},{default:d((()=>[i(C,{name:"/static/icon/coin_white.png",size:"38rpx"})])),_:1}),i(b,{class:"flex-1 flex-col"},{default:d((()=>[i(b,{class:"flex-x-between"},{default:d((()=>[i(b,{class:"flex-y-center"},{default:d((()=>[i(v,{class:"mr-16rpx text-md color-white"},{default:d((()=>[u(" Coins Per Click ")])),_:1})])),_:1}),i(b,{class:"flex-y-center"},{default:d((()=>[i(C,{name:"/static/icon/coin_bit.png",size:"28rpx"}),i(v,{class:"ml-16rpx text-md color-white"},{default:d((()=>{var e,l,s;return[u(x(("balanceFormat"in a?a.balanceFormat:p(t))(null==(s=null==(l=null==(e=p(z))?void 0:e.current)?void 0:l.properties)?void 0:s.golds_per_block)),1)]})),_:1})])),_:1})])),_:1}),i(b,{class:"mt-16rpx flex-x-between"},{default:d((()=>[i(v,{class:"text-sm color-desc"},{default:d((()=>[u(" Next Level ")])),_:1}),i(v,{class:"text-sm color-desc"},{default:d((()=>{var e,l,s;return[u(" +"+x(("balanceFormat"in a?a.balanceFormat:p(t))(null==(s=null==(l=null==(e=p(z))?void 0:e.next)?void 0:l.properties)?void 0:s.golds_per_block)),1)]})),_:1})])),_:1})])),_:1})])),_:1}),i(b,{class:"m-y-14rpx flex-y-center"},{default:d((()=>[i(b,{class:"mr-24rpx h-76rpx w-76rpx flex-center rounded-3 bg-cell-icon"},{default:d((()=>[i(C,{name:"/static/icon/chest_white.png",size:"38rpx"})])),_:1}),i(b,{class:"flex-1 flex-col"},{default:d((()=>[i(b,{class:"flex-x-between"},{default:d((()=>[i(b,{class:"flex-y-center"},{default:d((()=>[i(v,{class:"mr-16rpx text-md color-white"},{default:d((()=>[u(" Chests Per Click ")])),_:1})])),_:1}),i(b,{class:"flex-y-center"},{default:d((()=>[i(C,{name:"/static/icon/baoxiang.png",size:"28rpx"}),i(v,{class:"ml-16rpx text-md color-white"},{default:d((()=>{var e,l,s;return[u(x(("balanceFormat"in a?a.balanceFormat:p(t))(null==(s=null==(l=null==(e=p(z))?void 0:e.current)?void 0:l.properties)?void 0:s.chests_per_block)),1)]})),_:1})])),_:1})])),_:1}),i(b,{class:"mt-16rpx flex-x-between"},{default:d((()=>[i(v,{class:"text-sm color-desc"},{default:d((()=>[u(" Next Level ")])),_:1}),i(v,{class:"text-sm color-desc"},{default:d((()=>{var e,l,s;return[u(" +"+x(("balanceFormat"in a?a.balanceFormat:p(t))(null==(s=null==(l=null==(e=p(z))?void 0:e.next)?void 0:l.properties)?void 0:s.chests_per_block)),1)]})),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}});export{z as default};
