import{b as e,a4 as s,c as a,a as t,d as i,Z as l,G as d,ae as n,w as o,am as c,aI as u,f as v,aV as r,aH as p,h as m,j as b,k as y,n as f,F as x,p as _,s as h,q as w,l as g,x as I,t as k,v as S,y as $,A as C,aW as z,B as A,C as j}from"./index-Cq9VOZ8T.js";const q=j(i({name:"wd-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...e,value:s([String,Number]),disabled:a(!1),size:t("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:a(!1)},emits:["update:value","change","click"],setup(e,{expose:s,emit:a}){const t=e,i=a,j=l({activeIndex:0,activeStyle:""}),q=d((()=>t.disabled||!(!t.options[0]||!n(t.options[0]))&&t.options[0].disabled));o((()=>t.value),(()=>{N(),H(),t.vibrateShort&&z({})}),{immediate:!1});const{proxy:G}=A();function H(e=!0){v(".wd-segmented__item",!0,G).then((s=>{const a=s[j.activeIndex],t={position:"absolute",width:r(a.width),"z-index":0},i=s.slice(0,j.activeIndex).reduce(((e,s)=>e+Number(s.width)),0);i&&(t.transform=`translateX(${i}px)`),e&&(t.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),j.activeStyle=p(t)}))}function N(){const e=t.options.findIndex((e=>(n(e)?e.value:e)==t.value));if(e>=0)j.activeIndex=e;else{const e=n(t.options[0])?t.options[0].value:t.options[0];i("update:value",e),i("change",n(t.options[0])?t.options[0]:{value:e})}}return c((async()=>{N(),await u(),H(!1)})),s({updateActiveStyle:H}),(e,s)=>{const a=C;return m(),b(a,{class:h(`wd-segmented ${e.customClass}`),style:$(e.customStyle)},{default:y((()=>[(m(!0),f(x,null,_(e.options,((s,l)=>(m(),b(a,{class:h(`wd-segmented__item is-${e.size} ${j.activeIndex===l?"is-active":""} ${e.disabled||w(n)(s)&&s.disabled?"is-disabled":""}`),onClick:e=>function(e,s){if(t.disabled||n(e)&&e.disabled)return;const a=n(e)?e.value:e;j.activeIndex=s,H(),i("update:value",a),i("change",n(e)?e:{value:a}),i("click",n(e)?e:{value:a})}(s,l),key:l},{default:y((()=>[g(a,{class:"wd-segmented__item-label"},{default:y((()=>[e.$slots.label?I(e.$slots,"label",{key:0,option:w(n)(s)?s:{value:s}},void 0,!0):(m(),f(x,{key:1},[k(S(w(n)(s)?s.value:s),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),g(a,{class:h("wd-segmented__item--active "+(q.value?"is-disabled":"")),style:$(j.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-47b12afd"]]);export{q as _};
