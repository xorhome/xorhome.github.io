import{b as e,m as a,c as t,d as s,r,G as o,aH as n,w as l,h as c,j as u,k as i,l as p,s as g,y as d,t as v,v as m,_ as f,J as b,A as y,M as h,ac as w,aI as _,ae as k,C as N}from"./index-Cq9VOZ8T.js";const T=N(s({name:"wd-progress",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...e,percentage:a(0),hideText:t(!1),color:{type:[String,Array]},duration:a(30),status:String},setup(e){const a=e,t=r(""),s=r(0),N=r(0);let T=null;const j=o((()=>n({background:t.value,width:`${s.value}%`,"transition-duration":N.value*a.duration*.001+"s"}))),O=o((()=>a.status?`is-${a.status}`:"")),$=o((()=>{let e="";switch(a.status){case"danger":e="close-outline";break;case"success":e="check-outline";break;case"warning":e="warn-bold"}return e}));async function x(){const{percentage:e,color:t}=a;if(!h(t)||w(t)&&0===t.length)return N.value=Math.abs(e-s.value),await _(),void(s.value=e);if(s.value===e)return;const r=w(t)?t:[t];!function(e){const a=(s=e,s.every((e=>"string"==typeof e))),t=C(e);var s;if(!a&&!t)throw Error("Color must be String or Object with color and percentage");if(t&&e.some((({percentage:e})=>Number.isNaN(e))))throw Error("All the percentage must can be formatted to Number")}(r);const o=function(e){const a=100/e.length;return C(e)?e.sort(((e,a)=>e.percentage-a.percentage)):e.map(((e,t)=>({color:e,percentage:(t+1)*a})))}(r);s.value>e?function(e,a){e.some((e=>{if(a<=e.percentage)return S(a,e.color),!0}))}(o,e):function(e,a){e.some(((t,r)=>{if(s.value<t.percentage&&t.percentage<=a)return S(t.percentage,t.color),!0;r===e.length-1&&S(a,t.color)}))}(o,e)}function C(e){return e.every((e=>k(e)&&Object.prototype.hasOwnProperty.call(e,"color")&&Object.prototype.hasOwnProperty.call(e,"percentage")))}function S(e,r){if(T)return;const{duration:o}=a;N.value=Math.abs(e-s.value),setTimeout((()=>{s.value=e,t.value=r,T=setTimeout((()=>{T&&clearTimeout(T),T=null,x()}),N.value*o)}),50)}return l((()=>[a.percentage,a.color,a.duration]),(()=>{var e;e=a.percentage,(Number.isNaN(e)||e<0||e>100)&&console.error("The value of percentage must be between 0 and 100"),x()}),{immediate:!0}),(e,a)=>{const t=y;return c(),u(t,{class:g(`wd-progress ${e.customClass}`),style:d(e.customStyle)},{default:i((()=>[p(t,{class:"wd-progress__outer"},{default:i((()=>[p(t,{class:g(`wd-progress__inner ${O.value}`),style:d(j.value)},null,8,["class","style"])])),_:1}),e.hideText?e.status?(c(),u(f,{key:1,"custom-class":`wd-progress__label wd-progress__icon ${O.value}`,name:$.value,color:"string"==typeof e.color?e.color:""},null,8,["custom-class","name","color"])):b("",!0):(c(),u(t,{key:0,class:"wd-progress__label"},{default:i((()=>[v(m(e.percentage)+"%",1)])),_:1}))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-fc07731c"]]);export{T as _};
